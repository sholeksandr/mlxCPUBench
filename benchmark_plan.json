[
    {
		 "skip" : 0,
		 "no_report" : true,
		 "test_name": "Preparation",
		 "test_begin_mark": "",
		 "test_end_mark": "",
		 "test_command_flow" :  [{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "reset factory keep-basic", "type": "cli"},
	     						{"cmd" : "YES", "type": "cli", "force":true},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "sleep 90", "type": "sys"},
								{"cmd" : "ping 240", "type": "sys"},
								{"cmd" : "sleep 10", "type": "sys"},
								{"cmd" : "login 240", "type": "sys", "force":true},
								{"cmd" : "reset_factory_wizard", "type": "sys"},
	      						{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "username root nopassword ", "type": "cli"},
	     						{"cmd" : "logging local info", "type": "cli"},
	     						{"cmd" : "logging files rotation criteria size 128", "type": "cli"},
	     						{"cmd" : "logging files delete current", "type": "cli"},
	     						{"cmd" : "co wr", "type": "cli"},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "login 120", "type": "sys"},
	     						{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"}
	     						]
	     						
	},
    {
		 "skip" : 0,
		 "averege" : 3,
		 "test_name": "reboot_none_configured",
		 "test_begin_mark": "Linux version",
		 "test_end_mark": "System configure done",
		 "test_command_flow" :  [{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "reload force", "type": "cli"},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "sleep 90", "type": "sys"},
								{"cmd" : "ping 240", "type": "sys"},
								{"cmd" : "sleep 10", "type": "sys"},
								{"cmd" : "login 240", "type": "sys"}
	     						]
	     						
	},
	{
	     "skip" : 0,
	     "averege" : 3,
	     "test_name": "configuration_apply",
	     "cpu_usage" : {
	         "period": "1"
	     },
	     "test_begin_mark": "Test configuration apply start",
	     "test_end_mark": "Test configuration apply stop",
	     "test_command_flow" : [{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "reset factory keep-basic", "type": "cli"},
	     						{"cmd" : "YES", "type": "cli", "force":true},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "sleep 90", "type": "sys"},
								{"cmd" : "ping 240", "type": "sys"},
								{"cmd" : "sleep 10", "type": "sys"},
								{"cmd" : "login 240", "type": "sys", "force":true},
								{"cmd" : "reset_factory_wizard", "type": "sys"},
	      						{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "username root nopassword ", "type": "cli"},
	     						{"cmd" : "co wr", "type": "cli"},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "login 120", "type": "sys"},
	     						{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
								{"cmd" : "logging files rotation criteria size 128", "type": "cli"},
	     						{"cmd" : "logging files delete current", "type": "cli"},
	     						{"cmd" : "scp -o PubkeyAuthentication=no -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null {LOCAL_PATH}/benchmark_config_250 root@{SWITCH_IP}://var/opt/tms/text_configs/", "type": "local"},
	     						{"cmd" : "cpu_usage start", "type": "sys"},
	     						{"cmd" : "fae print log 'Test configuration apply start'", "type": "cli"},
	     						{"cmd" : "configuration text file benchmark_config_250 apply", "type": "cli"},
	     						{"cmd" : "fae print log 'Test configuration apply stop'", "type": "cli"},
	     						{"cmd" : "cpu_usage stop", "type": "sys"}
						       ]
    },
    {
		 "skip" : 0,
		 "averege" : 3,
		 "test_name": "reboot_configured",
		 "test_begin_mark": "Linux version",
		 "test_end_mark": "System configure done",
		 "test_command_flow" :  [{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "logging files delete current", "type": "cli"},
	     						{"cmd" : "logging local info", "type": "cli"},
	     						{"cmd" : "co wr", "type": "cli"},
	     						{"cmd" : "reload force", "type": "cli"},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "sleep 90", "type": "sys"},
								{"cmd" : "ping 240", "type": "sys"},
								{"cmd" : "sleep 10", "type": "sys"},
								{"cmd" : "login 240", "type": "sys"},
								{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "configuration text file benchmark_config_250 delete", "type": "cli"}
	     						]
	},
	{
		 "skip" : 0,
		 "averege" : 3,
		 "cpu_usage" : {
	         "period": "1"
	     },
	     "test_name": "upgrade_time",
		 "test_begin_mark": "install system software image",
		 "test_end_mark": "Image installation finished successfully",
		 "test_command_flow" :  [{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "logging files delete current", "type": "cli"},
	     						{"cmd" : "cpu_usage start", "type": "sys"},
	     						{"cmd" : "image fetch scp://root:3tango@10.208.1.55/{LOCAL_PATH}/image-X86_64-x86_64-x86_64-20191218-091018.img", "type": "cli"},
	     						{"cmd" : "image install image-X86_64-x86_64-x86_64-20191218-091018.img", "type": "cli"},
	     						{"cmd" : "cpu_usage stop", "type": "sys"}
	     						]
	},
	{
		 "skip" : 0,
		 "averege" : 3,
		 "cpu_usage" : {
	         "period": "1"
	     },
	     "test_name": "Create_4k_Vlan",
		 "test_begin_mark": "Start Create_4k_Vlan message",
		 "test_end_mark": "End Create_4k_Vlan message",
		 "test_command_flow" :  [{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "reset factory keep-basic", "type": "cli"},
	     						{"cmd" : "YES", "type": "cli", "force":true},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "sleep 90", "type": "sys"},
								{"cmd" : "ping 240", "type": "sys"},
								{"cmd" : "sleep 10", "type": "sys"},
								{"cmd" : "login 240", "type": "sys", "force":true},
								{"cmd" : "reset_factory_wizard", "type": "sys"},
								{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
								{"cmd" : "username root nopassword ", "type": "cli"},
	     						{"cmd" : "logging local info", "type": "cli"},
	     						{"cmd" : "logging files rotation criteria size 128", "type": "cli"},
	     						{"cmd" : "co wr", "type": "cli"},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "login 120", "type": "sys"},
	     						{"cmd" : "en", "type": "cli"},
	     						{"cmd" : "co t", "type": "cli"},
	     						{"cmd" : "no cli session prefix-modes enable", "type": "cli"},
	     						{"cmd" : "logging files delete current", "type": "cli"},
	     						{"cmd" : "cpu_usage start", "type": "sys"},
	     						{"cmd" : "fae print log 'Start Create_4k_Vlan message'", "type": "cli"},
	     						{"cmd" : "vlan 10-4000", "type": "cli"},
	     						{"cmd" : "fae print log 'End Create_4k_Vlan message'", "type": "cli"},
	     						{"cmd" : "cpu_usage stop", "type": "sys"}
	     						]
	},
	{
		 "skip" : 0,
		 "averege" : 3,
		 "test_name": "SNMP valk",
		 "cpu_usage" : {
	         "period": "1"
	     },
		 "test_begin_mark": "",
		 "test_end_mark": "",
		 "test_command_flow" :  [{"cmd" : "en", "type": "cli"},
								 {"cmd" : "co t", "type": "cli"},
								 {"cmd" : "snmp-server user eKhnc3BnqX v3 enable", "type": "cli"},
								 {"cmd" : "snmp-server user eKhnc3BnqX v3 capability admin", "type": "cli"},
								 {"cmd" : "snmp-server user eKhnc3BnqX v3 enable sets ", "type": "cli"},
								 {"cmd" : "no snmp-server user eKhnc3BnqX v3 require-privacy", "type": "cli"},
								 {"cmd" : "snmp-server user eKhnc3BnqX v3 auth md5 hCDdsMEWuF priv aes-128 hCDdsMEWuF ", "type": "cli"},
								 {"cmd" : "no snmp-server cache enable", "type": "cli"},
	     						 {"cmd" : "cpu_usage start", "type": "sys"},
								 {"cmd" : "snmpwalk -v3 -l authPriv -u eKhnc3BnqX -a MD5 -A 'hCDdsMEWuF' -x AES -X 'hCDdsMEWuF' {SWITCH_IP} &>/dev/null", "type": "shell", "time": "+"},
								 {"cmd" : "cpu_usage stop", "type": "sys"}
	     						]
	},
	{
		 "skip" : 0,
		 "averege" : 3,
		 "test_name": "ATCAM test",
		 "cpu_usage" : {
	         "period": "1"
	     },
		 "test_begin_mark": "",
		 "test_end_mark": "",
		 "test_command_flow" :  [{"cmd" : "scp -o PubkeyAuthentication=no -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null {LOCAL_PATH}/cpu_bench root@{SWITCH_IP}://tmp/", "type": "local"},
								 {"cmd" : "cpu_usage start", "type": "sys"},
								 {"cmd" : "/tmp/cpu_bench 5000", "type": "shell", "time": "+"},
								 {"cmd" : "cpu_usage stop", "type": "sys"}
	     						]
	},
 	{
		 "skip" : 0,
		 "averege" : 3,
		 "cpu_usage" : {
	         "period": "1",
	         "align" : true
	     },
	     "test_name": "BGP test",
		 "test_begin_mark": "Start BGP benchmark",
		 "test_end_mark": "End BGP benchmark",
		 "test_command_flow" :  [{"cmd" : "git clone /mswg/git/switchx/sx_fit_regression.git", "type": "local"},
		 						{"cmd" : "cd {LOCAL_PATH}/sx_fit_regression && git apply {LOCAL_PATH}/bgp_test.patch", "type": "local"},
		 						{"cmd" : "en", "type": "cli"},
								{"cmd" : "co t", "type": "cli"},
		 						{"cmd" : "reload force", "type": "cli"},
	     						{"cmd" : "logout", "type": "sys"},
	     						{"cmd" : "sleep 90", "type": "sys"},
								{"cmd" : "ping 240", "type": "sys"},
								{"cmd" : "sleep 10", "type": "sys"},
								{"cmd" : "login 240", "type": "sys"},
								{"cmd" : "en", "type": "cli"},
								{"cmd" : "co t", "type": "cli"},
		 						{"cmd" : "logging files delete current", "type": "cli"},
		 						{"cmd" : "cpu_usage start", "type": "sys"},
		 						{"cmd" : "./run_bgp.sh {SWITCH_IP}", "type": "local"},
		 						{"cmd" : "cpu_usage stop", "type": "sys"},
		 						{"cmd" : "configuration text file bgp_scale_for_cpu_benchmark.config delete", "type": "cli"}					
	     						]
	},	
	{
		 "skip" : 0,
		 "averege" : 3,
		 "test_name": "Packet processing test",
		 "test_begin_mark": "",
		 "test_end_mark": "",
		 "test_command_flow" :  [{"cmd" : "sleep 25", "type": "sys"},
		 						{"cmd" : "en", "type": "cli"},
								{"cmd" : "co t", "type": "cli"},
								{"cmd" : "no fae trap-group TRAP_GROUP_STP policer bind", "type": "cli"},
								{"cmd" : "interface ethernet 1/19 speed 10G force", "type": "cli"},
		 						{"cmd" : "interface ethernet 1/19 no shutdown", "type": "cli"},
		 						{"cmd" : "interface ethernet 1/19 clear counters", "type": "cli"},
		 						{"cmd" : "cpu_usage start", "type": "sys"},
		 						{"cmd" : "sshpass -p 3tango ssh root@10.210.24.145 'tcpreplay -i enp4s0f1 --loop 100000 --pps 1000000  {LOCAL_PATH}/stp.pcap'", "type": "local"},
		 						{"cmd" : "show spanning-tree interface ethernet 1/19 | include received", "type": "cli", "output_parcer": "STP_res_parcer"},
		 						{"cmd" : "cpu_usage stop", "type": "sys"}
	     						]
	}
]
